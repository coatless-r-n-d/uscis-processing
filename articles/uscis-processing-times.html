<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with USCIS Processing Times • uscis</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="uscis-processing-times_files/libs/quarto-html/popper.min.js"></script><script src="uscis-processing-times_files/libs/quarto-html/tippy.umd.min.js"></script><link href="uscis-processing-times_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="uscis-processing-times_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with USCIS Processing Times">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">uscis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/uscis-processing-times.html">Getting Started with USCIS Processing Times</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/coatless-r-n-d/uscis-processing/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started with USCIS Processing Times</h1>


      <p class="date">2024-10-30</p>

      <small class="dont-index">Source: <a href="https://github.com/coatless-r-n-d/uscis-processing/blob/main/vignettes/uscis-processing-times.qmd" class="external-link"><code>vignettes/uscis-processing-times.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>The <code>uscis</code> package provides tools to access and analyze USCIS (United States Citizenship and Immigration Services) processing times data through their API. This vignette demonstrates how to use the package to retrieve information about forms, their processing locations, and current processing times.</p>
<section class="section level3"><h3 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h3>
<p>First, let’s load the required packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/coatless-r-n-d/uscis-processing" class="external-link">uscis</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="section level3"><h3 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h3>
<section class="level3"><h4 id="initialize-session">Initialize Session<a class="anchor" aria-label="anchor" href="#initialize-session"></a>
</h4>
<p>First, we need to initialize a session with USCIS to get the necessary cookies:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/uscis_init_session.html">uscis_init_session</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
</section><section class="level3"><h4 id="available-forms">Available Forms<a class="anchor" aria-label="anchor" href="#available-forms"></a>
</h4>
<p>Let’s retrieve the list of available USCIS forms:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">forms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uscis_forms.html">uscis_forms</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">forms</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                                                 form_description_en</span></span>
<span><span class="co">#&gt; 1       Application for Replacement/Initial Nonimmigrant Arrival-Departure Document</span></span>
<span><span class="co">#&gt; 2                                                Petition for a Nonimmigrant Worker</span></span>
<span><span class="co">#&gt; 3                         Petition for a CNMI-Only Nonimmigrant Transitional Worker</span></span>
<span><span class="co">#&gt; 4                                                      Petition for Alien Fiancé(e)</span></span>
<span><span class="co">#&gt; 5                                                       Petition for Alien Relative</span></span>
<span><span class="co">#&gt; 6 Application for Travel Documents, Parole Documents, and Arrival/Departure Records</span></span>
<span><span class="co">#&gt;                                                                                  form_description_es</span></span>
<span><span class="co">#&gt; 1                     Solicitud para Reemplazar/Obtener Documento de Entrada/Salida de No Inmigrante</span></span>
<span><span class="co">#&gt; 2                                                               Petición de Trabajador No Inmigrante</span></span>
<span><span class="co">#&gt; 3                                   Petición de Trabajador Transicional No Inmigrante – Solo de CNMI</span></span>
<span><span class="co">#&gt; 4                                                            Petición de Prometido(a) Extranjero (2)</span></span>
<span><span class="co">#&gt; 5                                                                    Petición de Familiar Extranjero</span></span>
<span><span class="co">#&gt; 6 Solicitud de Documentos de Viaje, Documentos de Libertad Condicional y Registros de Entrada/Salida</span></span>
<span><span class="co">#&gt;   form_name</span></span>
<span><span class="co">#&gt; 1     I-102</span></span>
<span><span class="co">#&gt; 2     I-129</span></span>
<span><span class="co">#&gt; 3   I-129CW</span></span>
<span><span class="co">#&gt; 4    I-129F</span></span>
<span><span class="co">#&gt; 5     I-130</span></span>
<span><span class="co">#&gt; 6     I-131</span></span></code></pre></div>
</div>
</section><section class="level3"><h4 id="form-types">Form Types<a class="anchor" aria-label="anchor" href="#form-types"></a>
</h4>
<p>For each form, we can get its available subtypes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">form_types</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uscis_form_types.html">uscis_form_types</a></span><span class="op">(</span><span class="va">forms</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">form_types</span><span class="op">)</span></span>
<span><span class="co">#&gt;   form_name form_key form_type</span></span>
<span><span class="co">#&gt; 1     I-102      142       142</span></span>
<span><span class="co">#&gt; 2     I-129    137-E     137-E</span></span>
<span><span class="co">#&gt; 3     I-129   137-E3    137-E3</span></span>
<span><span class="co">#&gt; 4     I-129 137-H1B1  137-H1B1</span></span>
<span><span class="co">#&gt; 5     I-129 137-H1B2  137-H1B2</span></span>
<span><span class="co">#&gt; 6     I-129 137-H1B3  137-H1B3</span></span>
<span><span class="co">#&gt;                                      form_type_description_en</span></span>
<span><span class="co">#&gt; 1              Initial issuance or replacement of a Form I-94</span></span>
<span><span class="co">#&gt; 2                            E - Treaty traders and investors</span></span>
<span><span class="co">#&gt; 3            E3 - Specialty occupation workers from Australia</span></span>
<span><span class="co">#&gt; 4      H-1B - Specialty occupation - Visa to be issued abroad</span></span>
<span><span class="co">#&gt; 5  H-1B - Specialty occupation - Change of status in the U.S.</span></span>
<span><span class="co">#&gt; 6 H-1B - Specialty occupation - Extension of stay in the U.S.</span></span>
<span><span class="co">#&gt;                                                        form_type_description_es</span></span>
<span><span class="co">#&gt; 1                               Emisión o reemplazo inicial del Formulario I-94</span></span>
<span><span class="co">#&gt; 2                                             E - Comerciantes e inversionistas</span></span>
<span><span class="co">#&gt; 3                 E-3 para Trabajadores Australianos en Trabajos Especializados</span></span>
<span><span class="co">#&gt; 4               H-1B - Ocupación especial - visa que se expedirá en el exterior</span></span>
<span><span class="co">#&gt; 5 H-1B - Ocupación especial - cambio de la condición migratoria en los E.E.U.U.</span></span>
<span><span class="co">#&gt; 6           H-1B - Ocupación especial - extensión de la estadía en los E.E.U.U.</span></span></code></pre></div>
</div>
</section><section class="level3"><h4 id="processing-offices">Processing Offices<a class="anchor" aria-label="anchor" href="#processing-offices"></a>
</h4>
<p>Now let’s get the offices that process each form type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">form_offices</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uscis_form_offices.html">uscis_form_offices</a></span><span class="op">(</span><span class="va">form_types</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">form_offices</span><span class="op">)</span></span>
<span><span class="co">#&gt;   form_name form_type office_code        office_description</span></span>
<span><span class="co">#&gt; 1     I-102       142         CSC California Service Center</span></span>
<span><span class="co">#&gt; 2     I-102       142         NBC  National Benefits Center</span></span>
<span><span class="co">#&gt; 3     I-102       142         NSC   Nebraska Service Center</span></span>
<span><span class="co">#&gt; 4     I-102       142         SSC      Texas Service Center</span></span>
<span><span class="co">#&gt; 5     I-102       142         ESC    Vermont Service Center</span></span>
<span><span class="co">#&gt; 6     I-129     137-E         CSC California Service Center</span></span></code></pre></div>
</div>
</section><section class="level3"><h4 id="processing-times">Processing Times<a class="anchor" aria-label="anchor" href="#processing-times"></a>
</h4>
<p>Finally, let’s get the current processing times. For this example, let’s just look at a subset of forms to keep the API calls manageable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Let's look at just I-130 forms as an example</span></span>
<span><span class="va">i130_offices</span> <span class="op">&lt;-</span> <span class="va">form_offices</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">form_name</span> <span class="op">==</span> <span class="st">"I-130"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">processing_times</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uscis_processing_times.html">uscis_processing_times</a></span><span class="op">(</span><span class="va">i130_offices</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">processing_times</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 13</span></span>
<span><span class="co">#&gt;   form_name form_subtype office_code publication_date form_note_en form_note_es</span></span>
<span><span class="co">#&gt;   &lt;fct&gt;     &lt;fct&gt;        &lt;fct&gt;       &lt;chr&gt;            &lt;lgl&gt;        &lt;lgl&gt;       </span></span>
<span><span class="co">#&gt; 1 I-130     134A-F21     SCD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 2 I-130     134A-F21     NBC         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 3 I-130     134A-F21     FOD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 4 I-130     134A-IR      SCD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 5 I-130     134A-IR      NBC         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 6 I-130     134A-IR      FOD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; # ℹ 7 more variables: range_upper &lt;dbl&gt;, range_upper_unit &lt;fct&gt;,</span></span>
<span><span class="co">#&gt; #   range_lower &lt;dbl&gt;, range_lower_unit &lt;fct&gt;, service_request_date &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   subtype_info_en &lt;chr&gt;, subtype_info_es &lt;chr&gt;</span></span></code></pre></div>
</div>
</section></section><section class="section level3"><h3 id="analysis-examples">Analysis Examples<a class="anchor" aria-label="anchor" href="#analysis-examples"></a>
</h3>
<p>Let’s turn now to do some basic analysis of the processing times data.</p>
<p>Before we begin, let’s standardize all times to months:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">processing_in_months</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_to_months.html">standardize_to_months</a></span><span class="op">(</span><span class="va">processing_times</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">processing_in_months</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 13</span></span>
<span><span class="co">#&gt;   form_name form_subtype office_code publication_date form_note_en form_note_es</span></span>
<span><span class="co">#&gt;   &lt;fct&gt;     &lt;fct&gt;        &lt;fct&gt;       &lt;chr&gt;            &lt;lgl&gt;        &lt;lgl&gt;       </span></span>
<span><span class="co">#&gt; 1 I-130     134A-F21     SCD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 2 I-130     134A-F21     NBC         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 3 I-130     134A-F21     FOD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 4 I-130     134A-IR      SCD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 5 I-130     134A-IR      NBC         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; 6 I-130     134A-IR      FOD         October 18, 2024 NA           NA          </span></span>
<span><span class="co">#&gt; # ℹ 7 more variables: range_upper &lt;dbl&gt;, range_upper_unit &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   range_lower &lt;dbl&gt;, range_lower_unit &lt;chr&gt;, service_request_date &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   subtype_info_en &lt;chr&gt;, subtype_info_es &lt;chr&gt;</span></span></code></pre></div>
</div>
<section class="level3"><h4 id="overall-processing-times-by-form">Overall Processing Times by Form<a class="anchor" aria-label="anchor" href="#overall-processing-times-by-form"></a>
</h4>
<p>Let’s create a boxplot showing the distribution of processing times for each form:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">processing_in_months</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">form_name</span>, y <span class="op">=</span> <span class="va">range_upper</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Upper Range of Time (Months) for I-130 Form Across Offices"</span>, </span>
<span>    subtitle <span class="op">=</span> <span class="st">"Based on USCIS Processing Times"</span>, </span>
<span>    y <span class="op">=</span> <span class="st">"Months"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Form"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, vjust <span class="op">=</span> <span class="fl">0.5</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="uscis-processing-times_files/figure-html/overall_times-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This visualization shows the overall distribution of processing times for each form type, helping identify which forms typically take longer to process.</p>
</section><section class="level3"><h4 id="processing-times-by-form-and-office">Processing Times by Form and Office<a class="anchor" aria-label="anchor" href="#processing-times-by-form-and-office"></a>
</h4>
<p>We can also break this down by processing office to see variations in processing times across locations:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">processing_in_months</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">office_code</span>, <span class="va">range_upper</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">range_upper</span>, color <span class="op">=</span> <span class="va">office_code</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Upper Range of Time (Months) for the I-130 Form"</span>, </span>
<span>    subtitle <span class="op">=</span> <span class="st">"By Processing Office"</span>, </span>
<span>    caption <span class="op">=</span> <span class="st">"Based on USCIS Processing Times"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Months"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Form"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Office"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, vjust <span class="op">=</span> <span class="fl">0.5</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="uscis-processing-times_files/figure-html/office_times-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h4 id="refine-by-form-subtype">Refine by Form Subtype<a class="anchor" aria-label="anchor" href="#refine-by-form-subtype"></a>
</h4>
<p>We can further refine the analysis by looking at specific form subtypes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">processing_in_months</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">office_code</span>, <span class="va">range_upper</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">range_upper</span>, fill <span class="op">=</span> <span class="va">office_code</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">form_subtype</span>, scales <span class="op">=</span> <span class="st">"free"</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Upper Range of Time (Months) for the I-130 Form Across Subtypes"</span>, </span>
<span>    subtitle <span class="op">=</span> <span class="st">"By Processing Office"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Based on USCIS Processing Times"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Months"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Form"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Office"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, vjust <span class="op">=</span> <span class="fl">0.5</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="uscis-processing-times_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>With this visualization, we can:</p>
<ol type="1">
<li>Identify offices with consistently faster or slower processing times</li>
<li>Understand the variation in processing times for specific forms</li>
<li>Plan application submissions based on office processing speeds</li>
</ol></section><section class="level3"><h4 id="office-performance-analysis">Office Performance Analysis<a class="anchor" aria-label="anchor" href="#office-performance-analysis"></a>
</h4>
<p>We can also analyze which offices are generally faster or slower across all forms:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">office_summary</span> <span class="op">&lt;-</span> <span class="va">processing_in_months</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">office_code</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    mean_processing_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">range_upper</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    median_processing_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">range_upper</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    n_forms <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">mean_processing_time</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">office_summary</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    caption <span class="op">=</span> <span class="st">"Fastest Processing Offices (Average Across All Forms)"</span>,</span>
<span>    digits <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table class="table caption-top">
<caption>Fastest Processing Offices (Average Across All Forms)</caption>
<thead><tr class="header">
<th style="text-align: left;">office_code</th>
<th style="text-align: right;">mean_processing_time</th>
<th style="text-align: right;">median_processing_time</th>
<th style="text-align: right;">n_forms</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NBC</td>
<td style="text-align: right;">61.1</td>
<td style="text-align: right;">57.0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">SCD</td>
<td style="text-align: right;">90.8</td>
<td style="text-align: right;">92.5</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FOD</td>
<td style="text-align: right;">129.7</td>
<td style="text-align: right;">127.8</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section class="level3"><h4 id="summary-statistics">Summary Statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">processing_times</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    mean_upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">range_upper</span><span class="op">)</span>,</span>
<span>    mean_lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">range_lower</span><span class="op">)</span>,</span>
<span>    median_upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">range_upper</span><span class="op">)</span>,</span>
<span>    median_lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">range_lower</span><span class="op">)</span>,</span>
<span>    n_offices <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 5</span></span>
<span><span class="co">#&gt;   mean_upper mean_lower median_upper median_lower n_offices</span></span>
<span><span class="co">#&gt;        &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;     &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1       93.9       75.0         81.8         59.5        18</span></span></code></pre></div>
</div>
</section></section><section class="section level3"><h3 id="saving-data">Saving Data<a class="anchor" aria-label="anchor" href="#saving-data"></a>
</h3>
<p>You can save the retrieved data to CSV files for later use:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span></span>
<span>  <span class="va">processing_times</span>,</span>
<span>  file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"processing-times-"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">".csv"</span><span class="op">)</span>,</span>
<span>  row.names <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<p>This will allow you to analyze the data further across time or share it with others.</p>
</section><section class="section level2"><h2 id="common-issues">Common Issues<a class="anchor" aria-label="anchor" href="#common-issues"></a>
</h2>
<ol type="1">
<li>If you get authentication errors, try running <code>init_uscis_session()</code> again</li>
<li>The API may have rate limits, so consider adding delays between requests for large queries</li>
<li>Processing times data is updated periodically by USCIS, so results may vary</li>
</ol>
<div>
<blockquote>
<p><strong>Important</strong></p>
<p>The actual data may vary from when this vignette was built since the USCIS updates their processing times randomly.</p>
</blockquote>
</div>
</section><section class="section level2"><h2 id="additional-options">Additional Options<a class="anchor" aria-label="anchor" href="#additional-options"></a>
</h2>
<p>You can also use the <code>uscis</code> package to:</p>
<ul>
<li>Filter for specific form types</li>
<li>Compare processing times across different time periods</li>
<li>Analyze processing times by region</li>
<li>Track changes in processing times over time</li>
</ul>
<p>The skies the limit with the data you have at your disposal!</p>
</section><section class="section level2"><h2 id="session-information">Session Information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.4.1 (2024-06-14)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 22.04.5 LTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">#&gt;  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">#&gt; [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: UTC</span></span>
<span><span class="co">#&gt; tzcode source: system (glibc)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] ggplot2_3.5.1 dplyr_1.1.4   uscis_0.1.0  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] vctrs_0.6.5       cli_3.6.3         knitr_1.48        rlang_1.1.4      </span></span>
<span><span class="co">#&gt;  [5] xfun_0.48         purrr_1.0.2       generics_0.1.3    jsonlite_1.8.9   </span></span>
<span><span class="co">#&gt;  [9] labeling_0.4.3    glue_1.8.0        colorspace_2.1-1  htmltools_0.5.8.1</span></span>
<span><span class="co">#&gt; [13] rappdirs_0.3.3    scales_1.3.0      fansi_1.0.6       rmarkdown_2.28   </span></span>
<span><span class="co">#&gt; [17] grid_4.4.1        munsell_0.5.1     evaluate_1.0.1    tibble_3.2.1     </span></span>
<span><span class="co">#&gt; [21] fastmap_1.2.0     yaml_2.3.10       lifecycle_1.0.4   httr2_1.0.5      </span></span>
<span><span class="co">#&gt; [25] compiler_4.4.1    codetools_0.2-20  pkgconfig_2.0.3   farver_2.1.2     </span></span>
<span><span class="co">#&gt; [29] digest_0.6.37     R6_2.5.1          tidyselect_1.2.1  utf8_1.2.4       </span></span>
<span><span class="co">#&gt; [33] curl_5.2.3        pillar_1.9.0      magrittr_2.0.3    withr_3.0.2      </span></span>
<span><span class="co">#&gt; [37] tools_4.4.1       gtable_0.3.6</span></span></code></pre></div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Joseph Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
